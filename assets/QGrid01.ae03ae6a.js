import{i as e,l as a,u as l,Z as t,N as o,q as n,v as r,x as s,h as i,r as u,g as c,S as d,k as v,J as p,I as g,j as f,$ as b,a0 as m,a1 as y,a2 as h,A as w,B as _,a3 as S,a4 as q,a5 as P,a6 as x,a7 as k,n as C,a8 as R,E as B,Q as L,a9 as O,aa as F,ab as M,ac as N,ad as $,ae as I,af as j,D as E,b as A,c as T,a as V,t as D,d as z,w as Q,o as H}from"./index.2e312cfe.js";import{u as U,a as K,b as W,c as G,d as J,e as X,Q as Z}from"./use-checkbox.3d0e3ffe.js";import{K as Y}from"./KwdAPI.09c38893.js";import"./use-key-composition.04d28e33.js";import"./API.7f07e958.js";import"./index.2bd8ddc8.js";const ee=e({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:r,emit:s}){const i=n(),{proxy:{$q:u}}=i,c=e=>{s("click",e)};return()=>{if(void 0===e.props)return a("th",{class:!0===e.autoWidth?"q-table--col-auto-width":"",onClick:c},l(r.default));let n,s;const d=i.vnode.key;if(d){if(n=e.props.colsMap[d],void 0===n)return}else n=e.props.col;if(!0===n.sortable){const e="right"===n.align?"unshift":"push";s=t(r.default,[]),s[e](a(o,{class:n.__iconClass,name:u.iconSet.table.arrowUp}))}else s=l(r.default);const v={class:n.__thClass+(!0===e.autoWidth?" q-table--col-auto-width":""),style:n.headerStyle,onClick:a=>{!0===n.sortable&&e.props.sort(n),c(a)}};return a("th",v,s)}}}),ae=["horizontal","vertical","cell","none"];function le(e,l){return a("div",e,[a("table",{class:"q-table"},l)])}const te={list:b,table:e({name:"QMarkupTable",props:{...r,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>ae.includes(e)}},setup(e,{slots:t}){const o=n(),r=s(e,o.proxy.$q),u=i((()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(!0===r.value?" q-table--dark q-table__card--dark q-dark":"")+(!0===e.dense?" q-table--dense":"")+(!0===e.flat?" q-table--flat":"")+(!0===e.bordered?" q-table--bordered":"")+(!0===e.square?" q-table--square":"")+(!1===e.wrapCells?" q-table--no-wrap":"")));return()=>a("div",{class:u.value},[a("table",{class:"q-table"},l(t.default))])}})},oe=["list","table","__qtable"],ne=e({name:"QVirtualScroll",props:{...U,type:{type:String,default:"list",validator:e=>oe.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},setup(e,{slots:l,attrs:t}){let o;const n=u(null),r=i((()=>e.itemsSize>=0&&void 0!==e.itemsFn?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0)),{virtualScrollSliceRange:s,localResetVirtualScroll:b,padVirtualScroll:w,onVirtualScrollEvt:_}=K({virtualScrollLength:r,getVirtualScrollTarget:function(){return o},getVirtualScrollEl:x}),S=i((()=>{if(0===r.value)return[];const a=(e,a)=>({index:s.value.from+a,item:e});return void 0===e.itemsFn?e.items.slice(s.value.from,s.value.to).map(a):e.itemsFn(s.value.from,s.value.to-s.value.from).map(a)})),q=i((()=>"q-virtual-scroll q-virtual-scroll"+(!0===e.virtualScrollHorizontal?"--horizontal":"--vertical")+(void 0!==e.scrollTarget?"":" scroll"))),P=i((()=>void 0!==e.scrollTarget?{}:{tabindex:0}));function x(){return n.value.$el||n.value}function k(){o=m(x(),e.scrollTarget),o.addEventListener("scroll",_,y.passive)}function C(){void 0!==o&&(o.removeEventListener("scroll",_,y.passive),o=void 0)}function R(){let a=w("list"===e.type?"div":"tbody",S.value.map(l.default));return void 0!==l.before&&(a=l.before().concat(a)),h(l.after,a)}return c(r,(()=>{b()})),c((()=>e.scrollTarget),(()=>{C(),k()})),d((()=>{b()})),v((()=>{k()})),p((()=>{k()})),g((()=>{C()})),f((()=>{C()})),()=>{if(void 0!==l.default)return"__qtable"===e.type?le({ref:n,class:"q-table__middle "+q.value},R()):a(te[e.type],{...t,ref:n,class:[t.class,q.value],...P.value},R)}}}),re={xs:2,sm:4,md:6,lg:10,xl:14};function se(e,a,l){return{transform:!0===a?`translateX(${!0===l.lang.rtl?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}const ie=e({name:"QLinearProgress",props:{...r,...w,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:l}){const{proxy:t}=n(),o=s(e,t.$q),r=_(e,re),u=i((()=>!0===e.indeterminate||!0===e.query)),c=i((()=>e.reverse!==e.query)),d=i((()=>({...null!==r.value?r.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`}))),v=i((()=>"q-linear-progress"+(void 0!==e.color?` text-${e.color}`:"")+(!0===e.reverse||!0===e.query?" q-linear-progress--reverse":"")+(!0===e.rounded?" rounded-borders":""))),p=i((()=>se(void 0!==e.buffer?e.buffer:1,c.value,t.$q))),g=i((()=>`q-linear-progress__track absolute-full q-linear-progress__track--with${!0===e.instantFeedback?"out":""}-transition q-linear-progress__track--${!0===o.value?"dark":"light"}`+(void 0!==e.trackColor?` bg-${e.trackColor}`:""))),f=i((()=>se(!0===u.value?1:e.value,c.value,t.$q))),b=i((()=>`q-linear-progress__model absolute-full q-linear-progress__model--with${!0===e.instantFeedback?"out":""}-transition q-linear-progress__model--${!0===u.value?"in":""}determinate`)),m=i((()=>({width:100*e.value+"%"}))),y=i((()=>"q-linear-progress__stripe absolute-"+(!0===e.reverse?"right":"left")));return()=>{const t=[a("div",{class:g.value,style:p.value}),a("div",{class:b.value,style:f.value})];return!0===e.stripe&&!1===u.value&&t.push(a("div",{class:y.value,style:m.value})),a("div",{class:v.value,style:d.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":!0===e.indeterminate?void 0:e.value},h(l.default,t))}}}),ue=a("div",{key:"svg",class:"q-checkbox__bg absolute"},[a("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24","aria-hidden":"true"},[a("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),a("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]),ce=e({name:"QCheckbox",props:W,emits:G,setup:e=>J("checkbox",(function(l,t){const n=i((()=>(!0===l.value?e.checkedIcon:!0===t.value?e.indeterminateIcon:e.uncheckedIcon)||null));return()=>null!==n.value?[a("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[a(o,{class:"q-checkbox__icon",name:n.value})])]:[ue]}))});let de=0;const ve={fullscreen:Boolean,noRouteFullscreenExit:Boolean};const pe={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>"ad"===e||"da"===e,default:"ad"}};function ge(e,a,l,t){return{columnToSort:i((()=>{const{sortBy:e}=a.value;return e&&l.value.find((a=>a.name===e))||null})),computedSortMethod:i((()=>void 0!==e.sortMethod?e.sortMethod:(e,a,t)=>{const o=l.value.find((e=>e.name===a));if(void 0===o||void 0===o.field)return e;const n=!0===t?-1:1,r="function"==typeof o.field?e=>o.field(e):e=>e[o.field];return e.sort(((e,a)=>{let l=r(e),t=r(a);return null==l?-1*n:null==t?1*n:void 0!==o.sort?o.sort(l,t,e,a)*n:!0===P(l)&&!0===P(t)?(l-t)*n:!0===x(l)&&!0===x(t)?function(e,a){return new Date(e)-new Date(a)}(l,t)*n:"boolean"==typeof l&&"boolean"==typeof t?(l-t)*n:([l,t]=[l,t].map((e=>(e+"").toLocaleString().toLowerCase())),l<t?-1*n:l===t?0:n)}))})),sort:function(o){let n=e.columnSortOrder;if(!0===k(o))o.sortOrder&&(n=o.sortOrder),o=o.name;else{const e=l.value.find((e=>e.name===o));void 0!==e&&e.sortOrder&&(n=e.sortOrder)}let{sortBy:r,descending:s}=a.value;r!==o?(r=o,s="da"===n):!0===e.binaryStateSort?s=!s:!0===s?"ad"===n?r=null:s=!1:"ad"===n?s=!0:r=null,t({sortBy:r,descending:s,page:1})}}}const fe={filter:[String,Object],filterMethod:Function};function be(e){return e.page<1&&(e.page=1),void 0!==e.rowsPerPage&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const me={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};const ye={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}};function he(e){return Array.isArray(e)?e.slice():[]}const we={expanded:Array};const _e={visibleColumns:Array};const Se="q-table__bottom row items-center",qe={};X.forEach((e=>{qe[e]={}}));const Pe=e({name:"QTable",props:{rows:{type:Array,default:()=>[]},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{default:void 0},...qe,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...r,...ve,..._e,...fe,...me,...we,...ye,...pe},emits:["request","virtual-scroll","update:fullscreen","fullscreen","update:expanded","update:selected","selection"],setup(e,{slots:l,emit:t}){const r=n(),{proxy:{$q:p}}=r,g=s(e,p),{inFullscreen:b,toggleFullscreen:m}=function(){const e=n(),{props:a,emit:l,proxy:t}=e;let o,r,s;const i=u(!1);function p(){!0===i.value?b():g()}function g(){!0!==i.value&&(i.value=!0,s=t.$el.parentNode,s.replaceChild(r,t.$el),document.body.appendChild(t.$el),de++,1===de&&document.body.classList.add("q-body--fullscreen-mixin"),o={handler:b},q.add(o))}function b(){!0===i.value&&(void 0!==o&&(q.remove(o),o=void 0),s.replaceChild(t.$el,r),i.value=!1,de=Math.max(0,de-1),0===de&&(document.body.classList.remove("q-body--fullscreen-mixin"),void 0!==t.$el.scrollIntoView&&setTimeout((()=>{t.$el.scrollIntoView()}))))}return!0===S(e)&&c((()=>t.$route.fullPath),(()=>{!0!==a.noRouteFullscreenExit&&b()})),c((()=>a.fullscreen),(e=>{i.value!==e&&p()})),c(i,(e=>{l("update:fullscreen",e),l("fullscreen",e)})),d((()=>{r=document.createElement("span")})),v((()=>{!0===a.fullscreen&&g()})),f(b),Object.assign(t,{toggleFullscreen:p,setFullscreen:g,exitFullscreen:b}),{inFullscreen:i,toggleFullscreen:p}}(),y=i((()=>"function"==typeof e.rowKey?e.rowKey:a=>a[e.rowKey])),h=u(null),w=u(null),_=i((()=>!0!==e.grid&&!0===e.virtualScroll)),x=i((()=>" q-table__card"+(!0===g.value?" q-table__card--dark q-dark":"")+(!0===e.square?" q-table--square":"")+(!0===e.flat?" q-table--flat":"")+(!0===e.bordered?" q-table--bordered":""))),k=i((()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(!0===e.grid?" q-table--grid":x.value)+(!0===g.value?" q-table--dark":"")+(!0===e.dense?" q-table--dense":"")+(!1===e.wrapCells?" q-table--no-wrap":"")+(!0===b.value?" fullscreen scroll":""))),F=i((()=>k.value+(!0===e.loading?" q-table--loading":"")));c((()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+k.value),(()=>{!0===_.value&&null!==w.value&&w.value.reset()}));const{innerPagination:M,computedPagination:N,isServerSide:$,requestServerInteraction:I,setPagination:j}=function(e,a){const{props:l,emit:t}=e,o=u(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:l.rowsPerPageOptions.length>0?l.rowsPerPageOptions[0]:5},l.pagination)),n=i((()=>be(void 0!==l["onUpdate:pagination"]?{...o.value,...l.pagination}:o.value))),r=i((()=>void 0!==n.value.rowsNumber));function s(e){c({pagination:e,filter:l.filter})}function c(e={}){C((()=>{t("request",{pagination:e.pagination||n.value,filter:e.filter||l.filter,getCellValue:a})}))}return{innerPagination:o,computedPagination:n,isServerSide:r,requestServerInteraction:c,setPagination:function(e,a){const i=be({...n.value,...e});!0!==function(e,a){for(const l in a)if(a[l]!==e[l])return!1;return!0}(n.value,i)?!0!==r.value?void 0!==l.pagination&&void 0!==l["onUpdate:pagination"]?t("update:pagination",i):o.value=i:s(i):!0===r.value&&!0===a&&s(i)}}}(r,Ae),{computedFilterMethod:E}=function(e,a){const l=i((()=>void 0!==e.filterMethod?e.filterMethod:(e,a,l,t)=>{const o=a?a.toLowerCase():"";return e.filter((e=>l.some((a=>{const l=t(a,e)+"";return-1!==("undefined"===l||"null"===l?"":l.toLowerCase()).indexOf(o)}))))}));return c((()=>e.filter),(()=>{C((()=>{a({page:1},!0)}))}),{deep:!0}),{computedFilterMethod:l}}(e,j),{isRowExpanded:A,setExpanded:T,updateExpanded:V}=function(e,a){const l=u(he(e.expanded));function t(t){void 0!==e.expanded?a("update:expanded",t):l.value=t}return c((()=>e.expanded),(e=>{l.value=he(e)})),{isRowExpanded:function(e){return l.value.includes(e)},setExpanded:t,updateExpanded:function(e,a){const o=l.value.slice(),n=o.indexOf(e);!0===a?-1===n&&(o.push(e),t(o)):-1!==n&&(o.splice(n,1),t(o))}}}(e,t),D=i((()=>{let a=e.rows;if(!0===$.value||0===a.length)return a;const{sortBy:l,descending:t}=N.value;return e.filter&&(a=E.value(a,e.filter,re.value,Ae)),null!==ve.value&&(a=pe.value(e.rows===a?a.slice():a,l,t)),a})),z=i((()=>D.value.length)),Q=i((()=>{let a=D.value;if(!0===$.value)return a;const{rowsPerPage:l}=N.value;return 0!==l&&(0===me.value&&e.rows!==a?a.length>ye.value&&(a=a.slice(0,ye.value)):a=a.slice(me.value,ye.value)),a})),{hasSelectionMode:H,singleSelection:U,multipleSelection:K,allRowsSelected:W,someRowsSelected:G,rowsSelectedNumber:J,isRowSelected:Y,clearSelection:ae,updateSelection:te}=function(e,a,l,t){const o=i((()=>{const a={};return e.selected.map(t.value).forEach((e=>{a[e]=!0})),a})),n=i((()=>"none"!==e.selection)),r=i((()=>"single"===e.selection)),s=i((()=>"multiple"===e.selection)),u=i((()=>l.value.length>0&&l.value.every((e=>!0===o.value[t.value(e)])))),c=i((()=>!0!==u.value&&l.value.some((e=>!0===o.value[t.value(e)])))),d=i((()=>e.selected.length));return{hasSelectionMode:n,singleSelection:r,multipleSelection:s,allRowsSelected:u,someRowsSelected:c,rowsSelectedNumber:d,isRowSelected:function(e){return!0===o.value[e]},clearSelection:function(){a("update:selected",[])},updateSelection:function(l,o,n,s){a("selection",{rows:o,added:n,keys:l,evt:s});const i=!0===r.value?!0===n?o:[]:!0===n?e.selected.concat(o):e.selected.filter((e=>!1===l.includes(t.value(e))));a("update:selected",i)}}}(e,t,Q,y),{colList:oe,computedCols:re,computedColsMap:se,computedColspan:ue}=function(e,a,l){const t=i((()=>{if(void 0!==e.columns)return e.columns;const a=e.rows[0];return void 0!==a?Object.keys(a).map((e=>({name:e,label:e.toUpperCase(),field:e,align:P(a[e])?"right":"left",sortable:!0}))):[]})),o=i((()=>{const{sortBy:l,descending:o}=a.value;return(void 0!==e.visibleColumns?t.value.filter((a=>!0===a.required||!0===e.visibleColumns.includes(a.name))):t.value).map((e=>{const a=e.align||"right",t=`text-${a}`;return{...e,align:a,__iconClass:`q-table__sort-icon q-table__sort-icon--${a}`,__thClass:t+(void 0!==e.headerClasses?" "+e.headerClasses:"")+(!0===e.sortable?" sortable":"")+(e.name===l?" sorted "+(!0===o?"sort-desc":""):""),__tdStyle:void 0!==e.style?"function"!=typeof e.style?()=>e.style:e.style:()=>null,__tdClass:void 0!==e.classes?"function"!=typeof e.classes?()=>t+" "+e.classes:a=>t+" "+e.classes(a):()=>t}}))})),n=i((()=>{const e={};return o.value.forEach((a=>{e[a.name]=a})),e})),r=i((()=>void 0!==e.tableColspan?e.tableColspan:o.value.length+(!0===l.value?1:0)));return{colList:t,computedCols:o,computedColsMap:n,computedColspan:r}}(e,N,H),{columnToSort:ve,computedSortMethod:pe,sort:fe}=ge(e,N,oe,j),{firstRowIndex:me,lastRowIndex:ye,isFirstPage:we,isLastPage:_e,pagesNumber:qe,computedRowsPerPageOptions:Pe,computedRowsNumber:xe,firstPage:ke,prevPage:Ce,nextPage:Re,lastPage:Be}=function(e,a,l,t,o,n){const{props:r,emit:s,proxy:{$q:u}}=e,d=i((()=>!0===t.value?l.value.rowsNumber||0:n.value)),v=i((()=>{const{page:e,rowsPerPage:a}=l.value;return(e-1)*a})),p=i((()=>{const{page:e,rowsPerPage:a}=l.value;return e*a})),g=i((()=>1===l.value.page)),f=i((()=>0===l.value.rowsPerPage?1:Math.max(1,Math.ceil(d.value/l.value.rowsPerPage)))),b=i((()=>0===p.value||l.value.page>=f.value)),m=i((()=>(r.rowsPerPageOptions.includes(a.value.rowsPerPage)?r.rowsPerPageOptions:[a.value.rowsPerPage].concat(r.rowsPerPageOptions)).map((e=>({label:0===e?u.lang.table.allRows:""+e,value:e})))));return c(f,((e,a)=>{if(e===a)return;const t=l.value.page;e&&!t?o({page:1}):e<t&&o({page:e})})),void 0!==r["onUpdate:pagination"]&&s("update:pagination",{...l.value}),{firstRowIndex:v,lastRowIndex:p,isFirstPage:g,isLastPage:b,pagesNumber:f,computedRowsPerPageOptions:m,computedRowsNumber:d,firstPage:function(){o({page:1})},prevPage:function(){const{page:e}=l.value;e>1&&o({page:e-1})},nextPage:function(){const{page:e,rowsPerPage:a}=l.value;p.value>0&&e*a<d.value&&o({page:e+1})},lastPage:function(){o({page:f.value})}}}(r,M,N,$,j,z),Le=i((()=>0===Q.value.length)),Oe=i((()=>{const a={};return X.forEach((l=>{a[l]=e[l]})),void 0===a.virtualScrollItemSize&&(a.virtualScrollItemSize=!0===e.dense?28:48),a}));function Fe(){if(!0===e.grid)return function(){const o=void 0!==l.item?l.item:o=>{const n=o.cols.map((e=>a("div",{class:"q-table__grid-item-row"},[a("div",{class:"q-table__grid-item-title"},[e.label]),a("div",{class:"q-table__grid-item-value"},[e.value])])));if(!0===H.value){const t=l["body-selection"],r=void 0!==t?t(o):[a(ce,{modelValue:o.selected,color:e.color,dark:g.value,dense:e.dense,"onUpdate:modelValue":(e,a)=>{te([o.key],[o.row],e,a)}})];n.unshift(a("div",{class:"q-table__grid-item-row"},r),a(O,{dark:g.value}))}const r={class:["q-table__grid-item-card"+x.value,e.cardClass],style:e.cardStyle};return void 0===e.onRowClick&&void 0===e.onRowDblclick||(r.class[0]+=" cursor-pointer",void 0!==e.onRowClick&&(r.onClick=e=>{t("RowClick",e,o.row,o.pageIndex)}),void 0!==e.onRowDblclick&&(r.onDblclick=e=>{t("RowDblclick",e,o.row,o.pageIndex)})),a("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(!0===o.selected?" q-table__grid-item--selected":"")},[a("div",r,n)])};return a("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},Q.value.map(((e,a)=>o(je({key:y.value(e),row:e,pageIndex:a})))))}();const o=!0!==e.hideHeader?ze:null;if(!0===_.value){const t=l["top-row"],n=l["bottom-row"],r={default:e=>$e(e.item,l.body,e.index)};if(void 0!==t){const e=a("tbody",t({cols:re.value}));r.before=null===o?()=>e:()=>[o()].concat(e)}else null!==o&&(r.before=o);return void 0!==n&&(r.after=()=>a("tbody",n({cols:re.value}))),a(ne,{ref:w,class:e.tableClass,style:e.tableStyle,...Oe.value,scrollTarget:e.virtualScrollTarget,items:Q.value,type:"__qtable",tableColspan:ue.value,onVirtualScroll:Me},r)}const n=[Ie()];return null!==o&&n.unshift(o()),le({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},n)}function Me(e){t("virtual-scroll",e)}function Ne(){return[a(ie,{class:"q-table__linear-progress",color:e.color,dark:g.value,indeterminate:!0,trackColor:"transparent"})]}function $e(o,n,r){const s=y.value(o),i=Y(s);if(void 0!==n)return n(je({key:s,row:o,pageIndex:r,__trClass:i?"selected":""}));const u=l["body-cell"],c=re.value.map((e=>{const t=l[`body-cell-${e.name}`],n=void 0!==t?t:u;return void 0!==n?n(function(e){return Ee(e),B(e,"value",(()=>Ae(e.col,e.row))),e}({key:s,row:o,pageIndex:r,col:e})):a("td",{class:e.__tdClass(o),style:e.__tdStyle(o)},Ae(e,o))}));if(!0===H.value){const t=l["body-selection"],n=void 0!==t?t(function(e){return Ee(e),e}({key:s,row:o,pageIndex:r})):[a(ce,{modelValue:i,color:e.color,dark:g.value,dense:e.dense,"onUpdate:modelValue":(e,a)=>{te([s],[o],e,a)}})];c.unshift(a("td",{class:"q-table--col-auto-width"},n))}const d={key:s,class:{selected:i}};return void 0!==e.onRowClick&&(d.class["cursor-pointer"]=!0,d.onClick=e=>{t("RowClick",e,o,r)}),void 0!==e.onRowDblclick&&(d.class["cursor-pointer"]=!0,d.onDblclick=e=>{t("RowDblclick",e,o,r)}),void 0!==e.onRowContextmenu&&(d.class["cursor-pointer"]=!0,d.onContextmenu=e=>{t("RowContextmenu",e,o,r)}),a("tr",d,c)}function Ie(){const e=l.body,t=l["top-row"],o=l["bottom-row"];let n=Q.value.map(((a,l)=>$e(a,e,l)));return void 0!==t&&(n=t({cols:re.value}).concat(n)),void 0!==o&&(n=n.concat(o({cols:re.value}))),a("tbody",n)}function je(e){return Ee(e),e.cols=e.cols.map((a=>{const l={...a};return B(l,"value",(()=>Ae(a,e.row))),l})),e}function Ee(a){Object.assign(a,{cols:re.value,colsMap:se.value,sort:fe,rowIndex:me.value+a.pageIndex,color:e.color,dark:g.value,dense:e.dense}),!0===H.value&&B(a,"selected",(()=>Y(a.key)),((e,l)=>{te([a.key],[a.row],e,l)})),B(a,"expand",(()=>A(a.key)),(e=>{V(a.key,e)}))}function Ae(e,a){const l="function"==typeof e.field?e.field(a):a[e.field];return void 0!==e.format?e.format(l,a):l}const Te=i((()=>({pagination:N.value,pagesNumber:qe.value,isFirstPage:we.value,isLastPage:_e.value,firstPage:ke,prevPage:Ce,nextPage:Re,lastPage:Be,inFullscreen:b.value,toggleFullscreen:m})));function Ve(){const t=l.top,o=l["top-left"],n=l["top-right"],r=l["top-selection"],s=!0===H.value&&void 0!==r&&J.value>0,i="q-table__top relative-position row items-center";if(void 0!==t)return a("div",{class:i},[t(Te.value)]);let u;return!0===s?u=r(Te.value).slice():(u=[],void 0!==o?u.push(a("div",{class:"q-table-control"},[o(Te.value)])):e.title&&u.push(a("div",{class:"q-table__control"},[a("div",{class:["q-table__title",e.titleClass]},e.title)]))),void 0!==n&&(u.push(a("div",{class:"q-table__separator col"})),u.push(a("div",{class:"q-table__control"},[n(Te.value)]))),0!==u.length?a("div",{class:i},u):void 0}const De=i((()=>!0===G.value?null:W.value));function ze(){const t=function(){const t=l.header,o=l["header-cell"];if(void 0!==t)return t(Qe({header:!0})).slice();const n=re.value.map((e=>{const t=l[`header-cell-${e.name}`],n=void 0!==t?t:o,r=Qe({col:e});return void 0!==n?n(r):a(ee,{key:e.name,props:r},(()=>e.label))}));if(!0===U.value&&!0!==e.grid)n.unshift(a("th",{class:"q-table--col-auto-width"}," "));else if(!0===K.value){const t=l["header-selection"],o=void 0!==t?t(Qe({})):[a(ce,{color:e.color,modelValue:De.value,dark:g.value,dense:e.dense,"onUpdate:modelValue":He})];n.unshift(a("th",{class:"q-table--col-auto-width"},o))}return[a("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},n)]}();return!0===e.loading&&void 0===l.loading&&t.push(a("tr",{class:"q-table__progress"},[a("th",{class:"relative-position",colspan:ue.value},Ne())])),a("thead",t)}function Qe(a){return Object.assign(a,{cols:re.value,sort:fe,colsMap:se.value,color:e.color,dark:g.value,dense:e.dense}),!0===K.value&&B(a,"selected",(()=>De.value),He),a}function He(e){!0===G.value&&(e=!1),te(Q.value.map(y.value),Q.value,e)}const Ue=i((()=>{const a=[e.iconFirstPage||p.iconSet.table.firstPage,e.iconPrevPage||p.iconSet.table.prevPage,e.iconNextPage||p.iconSet.table.nextPage,e.iconLastPage||p.iconSet.table.lastPage];return!0===p.lang.rtl?a.reverse():a}));function Ke(){if(!0===e.hideBottom)return;if(!0===Le.value){if(!0===e.hideNoData)return;const t=!0===e.loading?e.loadingLabel||p.lang.table.loading:e.filter?e.noResultsLabel||p.lang.table.noResults:e.noDataLabel||p.lang.table.noData,n=l["no-data"],r=void 0!==n?[n({message:t,icon:p.iconSet.table.warning,filter:e.filter})]:[a(o,{class:"q-table__bottom-nodata-icon",name:p.iconSet.table.warning}),t];return a("div",{class:Se+" q-table__bottom--nodata"},r)}const t=l.bottom;if(void 0!==t)return a("div",{class:Se},[t(Te.value)]);const n=!0!==e.hideSelectedBanner&&!0===H.value&&J.value>0?[a("div",{class:"q-table__control"},[a("div",[(e.selectedRowsLabel||p.lang.table.selectedRecords)(J.value)])])]:[];return!0!==e.hidePagination?a("div",{class:Se+" justify-end"},function(t){let o;const{rowsPerPage:n}=N.value,r=e.paginationLabel||p.lang.table.pagination,s=l.pagination,i=e.rowsPerPageOptions.length>1;t.push(a("div",{class:"q-table__separator col"})),!0===i&&t.push(a("div",{class:"q-table__control"},[a("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||p.lang.table.recordsPerPage]),a(Z,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:n,options:Pe.value,displayValue:0===n?p.lang.table.allRows:n,dark:g.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":We})]));if(void 0!==s)o=s(Te.value);else if(o=[a("span",0!==n?{class:"q-table__bottom-item"}:{},[n?r(me.value+1,Math.min(ye.value,xe.value),xe.value):r(1,z.value,xe.value)])],0!==n&&qe.value>1){const l={color:e.color,round:!0,dense:!0,flat:!0};!0===e.dense&&(l.size="sm"),qe.value>2&&o.push(a(L,{key:"pgFirst",...l,icon:Ue.value[0],disable:we.value,onClick:ke})),o.push(a(L,{key:"pgPrev",...l,icon:Ue.value[1],disable:we.value,onClick:Ce}),a(L,{key:"pgNext",...l,icon:Ue.value[2],disable:_e.value,onClick:Re})),qe.value>2&&o.push(a(L,{key:"pgLast",...l,icon:Ue.value[3],disable:_e.value,onClick:Be}))}return t.push(a("div",{class:"q-table__control"},o)),t}(n)):n.length>0?a("div",{class:Se},n):void 0}function We(e){j({page:1,rowsPerPage:e.value})}return Object.assign(r.proxy,{requestServerInteraction:I,setPagination:j,firstPage:ke,prevPage:Ce,nextPage:Re,lastPage:Be,isRowSelected:Y,clearSelection:ae,isRowExpanded:A,setExpanded:T,sort:fe,resetVirtualScroll:function(){!0===_.value&&w.value.reset()},scrollTo:function(e,a){if(null!==w.value)return void w.value.scrollTo(e,a);e=parseInt(e,10);const l=h.value.querySelector(`tbody tr:nth-of-type(${e+1})`);if(null!==l){const a=h.value.querySelector(".q-table__middle.scroll"),{offsetTop:o}=l,n=o<a.scrollTop?"decrease":"increase";a.scrollTop=o,t("virtual-scroll",{index:e,from:0,to:M.value.rowsPerPage-1,direction:n})}},getCellValue:Ae}),R(r.proxy,{filteredSortedRows:()=>D.value,computedRows:()=>Q.value,computedRowsNumber:()=>xe.value}),()=>{const t=[Ve()],o={ref:h,class:F.value};return!0===e.grid?t.push(function(){const t=!0===e.gridHeader?[a("table",{class:"q-table"},[ze()])]:!0===e.loading&&void 0===l.loading?Ne():void 0;return a("div",{class:"q-table__middle"},t)}()):Object.assign(o,{class:[o.class,e.cardClass],style:e.cardStyle}),t.push(Fe(),Ke()),!0===e.loading&&void 0!==l.loading&&t.push(l.loading()),a("div",o,t)}}}),xe=[a("circle",{cx:"15",cy:"15",r:"15"},[a("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),a("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})]),a("circle",{cx:"60",cy:"15",r:"9","fill-opacity":".3"},[a("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),a("animate",{attributeName:"fill-opacity",from:".5",to:".5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})]),a("circle",{cx:"105",cy:"15",r:"15"},[a("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),a("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})])],ke=e({name:"QSpinnerDots",props:F,setup(e){const{cSize:l,classes:t}=M(e);return()=>a("svg",{class:t.value,fill:"currentColor",width:l.value,height:l.value,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg"},xe)}}),{passive:Ce}=y,Re=e({name:"QInfiniteScroll",props:{offset:{type:Number,default:500},debounce:{type:[String,Number],default:100},scrollTarget:{default:void 0},initialIndex:Number,disable:Boolean,reverse:Boolean},emits:["load"],setup(e,{slots:o,emit:r}){const s=u(!1),d=u(!0),b=u(null);let y,h,w=e.initialIndex||0;const _=i((()=>"q-infinite-scroll__loading"+(!0===s.value?"":" invisible")));function S(){if(!0===e.disable||!0===s.value||!1===d.value)return;const a=N(y),l=$(y),t=j(y);!1===e.reverse?Math.round(l+t+e.offset)>=Math.round(a)&&q():Math.round(l)<=e.offset&&q()}function q(){if(!0===e.disable||!0===s.value||!1===d.value)return;w++,s.value=!0;const a=N(y);r("load",w,(l=>{!0===d.value&&(s.value=!1,C((()=>{if(!0===e.reverse){const e=N(y),l=$(y);I(y,l+(e-a))}!0===l?x():b.value&&b.value.closest("body")&&h()})))}))}function P(){!1===d.value&&(d.value=!0,y.addEventListener("scroll",h,Ce)),S()}function x(){!0===d.value&&(d.value=!1,s.value=!1,y.removeEventListener("scroll",h,Ce),void 0!==h&&void 0!==h.cancel&&h.cancel())}function k(){if(y&&!0===d.value&&y.removeEventListener("scroll",h,Ce),y=m(b.value,e.scrollTarget),!0===d.value){if(y.addEventListener("scroll",h,Ce),!0===e.reverse){const e=N(y),a=j(y);I(y,e-a)}S()}}const R=n();function B(e){e=parseInt(e,10);const a=h;h=e<=0?S:E(S,!0===isNaN(e)?100:e),y&&!0===d.value&&(void 0!==a&&y.removeEventListener("scroll",a,Ce),y.addEventListener("scroll",h,Ce))}Object.assign(R.proxy,{poll:()=>{void 0!==h&&h()},trigger:q,stop:x,reset:function(){w=0},resume:P,setIndex:function(e){w=e}}),c((()=>e.disable),(e=>{!0===e?x():P()})),c((()=>e.reverse),(e=>{!1===s.value&&!0===d.value&&S()})),c((()=>e.scrollTarget),k),c((()=>e.debounce),B);let L=!1;return p((()=>{!1!==L&&y&&I(y,L)})),g((()=>{L=!!y&&$(y)})),f((()=>{!0===d.value&&y.removeEventListener("scroll",h,Ce)})),v((()=>{B(e.debounce),k()})),()=>{const n=t(o.default,[]);return!0!==e.disable&&!0===d.value&&n[!1===e.reverse?"push":"unshift"](a("div",{class:_.value},l(o.loading))),a("div",{class:"q-infinite-scroll",ref:b},n)}}}),Be={class:"q-pa-md"},Le={class:"row justify-center q-my-md"},Oe={__name:"QGrid01",setup(e){const a=A([]),l=u(1),t=u(100),o=[{name:"name",required:!0,label:"키워드명",align:"left",field:e=>e.kwdName,format:e=>`${e}`,sortable:!0},{name:"monthlyPcQcCnt",label:"월클릭(pc)",field:"monthlyPcQcCnt",sortable:!0},{name:"monthlyMobileQcCnt",label:"월클릭(mo)",field:"monthlyMobileQcCnt"}],n=async(e,o)=>{let n={kwdName:"테스트",startDt:"1",endDt:"1",page:(l.value-1)*t.value,pageSize:t.value};await Y.getKwdList(n).then((e=>{e.data.items.forEach(((e,l)=>{a.push(e)}))})).catch((e=>{})),l.value++,o()};return(e,t)=>(H(),T("div",Be,[V("p",null,"page :: "+D(l.value),1),z(Re,{onLoad:n,offset:30},{loading:Q((()=>[V("div",Le,[z(ke,{color:"primary",size:"40px"})])])),default:Q((()=>[z(Pe,{title:"키워드목록",rows:a,columns:o,"row-key":"name"},null,8,["rows"])])),_:1})]))}};export{Oe as default};
