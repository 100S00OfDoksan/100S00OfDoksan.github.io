import{u as e,b as l,e as t,d as o,a,c as n,n as i,f as u,g as r,h as s}from"./use-key-composition.e004978b.js";import{ag as c,r as d,h as v,g as p,D as f,S as m,I as g,J as h,j as S,n as y,l as b,ah as w,q as V,i as k,v as x,A as q,x as C,B as _,ai as z,N as E,C as L,aj as B,H as I,a4 as T,P as O,ak as H,ad as A,a1 as M,al as $,am as F,an as R,ao as D,ap as P,aq as j,ar as N,as as K,at as W,m as U,au as X,av as Y,T as Q,u as G,aw as J,ax as Z,ay as ee,G as le,U as te,L as oe,az as ae,aA as ne,p as ie,s as ue,aB as re,aC as se,aD as ce,aE as de,a2 as ve,aF as pe}from"./index.e46f2d73.js";const fe=["start","center","end","start-force","center-force","end-force"],me=Array.prototype.filter,ge=void 0===window.getComputedStyle(document.body).overflowAnchor?c:function(e,l){null!==e&&(cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame((()=>{if(null===e)return;const t=e.children||[];me.call(t,(e=>e.dataset&&void 0!==e.dataset.qVsAnchor)).forEach((e=>{delete e.dataset.qVsAnchor}));const o=t[l];o&&o.dataset&&(o.dataset.qVsAnchor="")})))};function he(e,l){return e+l}function Se(e,l,t,o,a,n,i,u){const r=e===window?document.scrollingElement||document.documentElement:e,s=!0===a?"offsetWidth":"offsetHeight",c={scrollStart:0,scrollViewSize:-i-u,scrollMaxSize:0,offsetStart:-i,offsetEnd:-u};if(!0===a?(e===window?(c.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,c.scrollViewSize+=document.documentElement.clientWidth):(c.scrollStart=r.scrollLeft,c.scrollViewSize+=r.clientWidth),c.scrollMaxSize=r.scrollWidth,!0===n&&(c.scrollStart=(!0===w?c.scrollMaxSize-c.scrollViewSize:0)-c.scrollStart)):(e===window?(c.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,c.scrollViewSize+=document.documentElement.clientHeight):(c.scrollStart=r.scrollTop,c.scrollViewSize+=r.clientHeight),c.scrollMaxSize=r.scrollHeight),null!==t)for(let d=t.previousElementSibling;null!==d;d=d.previousElementSibling)!1===d.classList.contains("q-virtual-scroll--skip")&&(c.offsetStart+=d[s]);if(null!==o)for(let d=o.nextElementSibling;null!==d;d=d.nextElementSibling)!1===d.classList.contains("q-virtual-scroll--skip")&&(c.offsetEnd+=d[s]);if(l!==e){const t=r.getBoundingClientRect(),o=l.getBoundingClientRect();!0===a?(c.offsetStart+=o.left-t.left,c.offsetEnd-=o.width):(c.offsetStart+=o.top-t.top,c.offsetEnd-=o.height),e!==window&&(c.offsetStart+=c.scrollStart),c.offsetEnd+=c.scrollMaxSize-c.offsetStart}return c}function ye(e,l,t,o){"end"===l&&(l=(e===window?document.body:e)[!0===t?"scrollWidth":"scrollHeight"]),e===window?!0===t?(!0===o&&(l=(!0===w?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):!0===t?(!0===o&&(l=(!0===w?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function be(e,l,t,o){if(t>=o)return 0;const a=l.length,n=Math.floor(t/1e3),i=Math.floor((o-1)/1e3)+1;let u=e.slice(n,i).reduce(he,0);return t%1e3!=0&&(u-=l.slice(1e3*n,t).reduce(he,0)),o%1e3!=0&&o!==a&&(u-=l.slice(o,1e3*i).reduce(he,0)),u}const we={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Ve=Object.keys(we),ke={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...we};function xe({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:t,virtualScrollItemSizeComputed:o}){const a=V(),{props:n,emit:i,proxy:u}=a,{$q:r}=u;let s,c,w,k,x=[];const q=d(0),C=d(0),_=d({}),z=d(null),E=d(null),L=d(null),B=d({from:0,to:0}),I=v((()=>void 0!==n.tableColspan?n.tableColspan:100));void 0===o&&(o=v((()=>n.virtualScrollItemSize)));const T=v((()=>o.value+";"+n.virtualScrollHorizontal)),O=v((()=>T.value+";"+n.virtualScrollSliceRatioBefore+";"+n.virtualScrollSliceRatioAfter));function H(){D(c,!0)}function A(e){D(void 0===e?c:e)}function M(o,a){const i=l();if(null==i||8===i.nodeType)return;const u=Se(i,t(),z.value,E.value,n.virtualScrollHorizontal,r.lang.rtl,n.virtualScrollStickySizeStart,n.virtualScrollStickySizeEnd);w!==u.scrollViewSize&&P(u.scrollViewSize),$(i,u,Math.min(e.value-1,Math.max(0,parseInt(o,10)||0)),0,fe.indexOf(a)>-1?a:c>-1&&o>c?"end":"start")}function $(l,t,o,a,i){const u="string"==typeof i&&i.indexOf("-force")>-1,c=!0===u?i.replace("-force",""):i,d=void 0!==c?c:"start";let v=Math.max(0,o-_.value[d]),p=v+_.value.total;p>e.value&&(p=e.value,v=Math.max(0,p-_.value.total)),s=t.scrollStart;const f=v!==B.value.from||p!==B.value.to;if(!1===f&&void 0===c)return void j(o);const{activeElement:m}=document,g=L.value;!0===f&&null!==g&&g!==m&&!0===g.contains(m)&&(g.addEventListener("focusout",R),setTimeout((()=>{null!==g&&g.removeEventListener("focusout",R)}))),ge(g,o-v);const h=void 0!==c?k.slice(v,o).reduce(he,0):0;if(!0===f){const l=p>=B.value.from&&v<=B.value.to?B.value.to:p;B.value={from:v,to:l},q.value=be(x,k,0,v),C.value=be(x,k,p,e.value),requestAnimationFrame((()=>{B.value.to!==p&&s===t.scrollStart&&(B.value={from:B.value.from,to:p},C.value=be(x,k,p,e.value))}))}requestAnimationFrame((()=>{if(s!==t.scrollStart)return;!0===f&&F(v);const e=k.slice(v,o).reduce(he,0),i=e+t.offsetStart+q.value,d=i+k[o];let p=i+a;if(void 0!==c){const l=e-h,a=t.scrollStart+l;p=!0!==u&&a<i&&d<a+t.scrollViewSize?a:"end"===c?d-t.scrollViewSize:i-("start"===c?0:Math.round((t.scrollViewSize-k[o])/2))}s=p,ye(l,p,n.virtualScrollHorizontal,r.lang.rtl),j(o)}))}function F(e){const l=L.value;if(l){const t=me.call(l.children,(e=>e.classList&&!1===e.classList.contains("q-virtual-scroll--skip"))),o=t.length,a=!0===n.virtualScrollHorizontal?e=>e.getBoundingClientRect().width:e=>e.offsetHeight;let i,u,r=e;for(let e=0;e<o;){for(i=a(t[e]),e++;e<o&&!0===t[e].classList.contains("q-virtual-scroll--with-prev");)i+=a(t[e]),e++;u=i-k[r],0!==u&&(k[r]+=u,x[Math.floor(r/1e3)]+=u),r++}}}function R(){null!==L.value&&void 0!==L.value&&L.value.focus()}function D(l,t){const a=1*o.value;!0!==t&&!1!==Array.isArray(k)||(k=[]);const n=k.length;k.length=e.value;for(let o=e.value-1;o>=n;o--)k[o]=a;const i=Math.floor((e.value-1)/1e3);x=[];for(let o=0;o<=i;o++){let l=0;const t=Math.min(1e3*(o+1),e.value);for(let e=1e3*o;e<t;e++)l+=k[e];x.push(l)}c=-1,s=void 0,q.value=be(x,k,0,B.value.from),C.value=be(x,k,B.value.to,e.value),l>=0?(F(B.value.from),y((()=>{M(l)}))):N()}function P(e){if(void 0===e&&"undefined"!=typeof window){const o=l();null!=o&&8!==o.nodeType&&(e=Se(o,t(),z.value,E.value,n.virtualScrollHorizontal,r.lang.rtl,n.virtualScrollStickySizeStart,n.virtualScrollStickySizeEnd).scrollViewSize)}w=e;const a=parseFloat(n.virtualScrollSliceRatioBefore)||0,i=1+a+(parseFloat(n.virtualScrollSliceRatioAfter)||0),u=void 0===e||e<=0?1:Math.ceil(e/o.value),s=Math.max(1,u,Math.ceil((n.virtualScrollSliceSize>0?n.virtualScrollSliceSize:10)/i));_.value={total:Math.ceil(s*i),start:Math.ceil(s*a),center:Math.ceil(s*(.5+a)),end:Math.ceil(s*(1+a)),view:u}}function j(e){c!==e&&(void 0!==n.onVirtualScroll&&i("virtual-scroll",{index:e,from:B.value.from,to:B.value.to-1,direction:e<c?"decrease":"increase",ref:u}),c=e)}p(O,(()=>{P()})),p(T,H),P();const N=f((function(){const o=l();if(null==o||8===o.nodeType)return;const a=Se(o,t(),z.value,E.value,n.virtualScrollHorizontal,r.lang.rtl,n.virtualScrollStickySizeStart,n.virtualScrollStickySizeEnd),i=e.value-1,u=a.scrollMaxSize-a.offsetStart-a.offsetEnd-C.value;if(s===a.scrollStart)return;if(a.scrollMaxSize<=0)return void $(o,a,0,0);w!==a.scrollViewSize&&P(a.scrollViewSize),F(B.value.from);const c=Math.floor(a.scrollMaxSize-Math.max(a.scrollViewSize,a.offsetEnd)-Math.min(k[i],a.scrollViewSize/2));if(c>0&&Math.ceil(a.scrollStart)>=c)return void $(o,a,i,a.scrollMaxSize-a.offsetEnd-x.reduce(he,0));let d=0,v=a.scrollStart-a.offsetStart,p=v;if(v<=u&&v+a.scrollViewSize>=q.value)v-=q.value,d=B.value.from,p=v;else for(let e=0;v>=x[e]&&d<i;e++)v-=x[e],d+=1e3;for(;v>0&&d<i;)v-=k[d],v>-a.scrollViewSize?(d++,p=v):p=k[d]+v;$(o,a,d,p)}),!0===r.platform.is.ios?120:35);m((()=>{P()}));let K=!1;return g((()=>{K=!0})),h((()=>{if(!0!==K)return;const e=l();void 0!==s&&null!=e&&8!==e.nodeType?ye(e,s,n.virtualScrollHorizontal,r.lang.rtl):M(c)})),S((()=>{N.cancel()})),Object.assign(u,{scrollTo:M,reset:H,refresh:A}),{virtualScrollSliceRange:B,virtualScrollSliceSizeComputed:_,setVirtualScrollSize:P,onVirtualScrollEvt:N,localResetVirtualScroll:D,padVirtualScroll:function(e,l){const t=!0===n.virtualScrollHorizontal?"width":"height",a={["--q-virtual-scroll-item-"+t]:o.value+"px"};return["tbody"===e?b(e,{class:"q-virtual-scroll__padding",key:"before",ref:z},[b("tr",[b("td",{style:{[t]:`${q.value}px`,...a},colspan:I.value})])]):b(e,{class:"q-virtual-scroll__padding",key:"before",ref:z,style:{[t]:`${q.value}px`,...a}}),b(e,{class:"q-virtual-scroll__content",key:"content",ref:L,tabindex:-1},l.flat()),"tbody"===e?b(e,{class:"q-virtual-scroll__padding",key:"after",ref:E},[b("tr",[b("td",{style:{[t]:`${C.value}px`,...a},colspan:I.value})])]):b(e,{class:"q-virtual-scroll__padding",key:"after",ref:E,style:{[t]:`${C.value}px`,...a}})]},scrollTo:M,reset:H,refresh:A}}const qe=k({name:"QField",inheritAttrs:!1,props:e,emits:l,setup:()=>t(o())}),Ce={xs:8,sm:10,md:14,lg:20,xl:24},_e=k({name:"QChip",props:{...x,...q,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:l,emit:t}){const{proxy:{$q:o}}=V(),a=C(e,o),n=_(e,Ce),i=v((()=>!0===e.selected||void 0!==e.icon)),u=v((()=>!0===e.selected?e.iconSelected||o.iconSet.chip.selected:e.icon)),r=v((()=>e.iconRemove||o.iconSet.chip.remove)),s=v((()=>!1===e.disable&&(!0===e.clickable||null!==e.selected))),c=v((()=>{const l=!0===e.outline&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(!1===e.outline&&void 0!==e.color?` bg-${e.color}`:"")+(l?` text-${l} q-chip--colored`:"")+(!0===e.disable?" disabled":"")+(!0===e.dense?" q-chip--dense":"")+(!0===e.outline?" q-chip--outline":"")+(!0===e.selected?" q-chip--selected":"")+(!0===s.value?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(!0===e.square?" q-chip--square":"")+(!0===a.value?" q-chip--dark q-dark":"")})),d=v((()=>!0===e.disable?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0}));function p(e){13===e.keyCode&&f(e)}function f(l){e.disable||(t("update:selected",!e.selected),t("click",l))}function m(l){void 0!==l.keyCode&&13!==l.keyCode||(I(l),!1===e.disable&&(t("update:modelValue",!1),t("remove")))}return()=>{if(!1===e.modelValue)return;const t={class:c.value,style:n.value};return!0===s.value&&Object.assign(t,d.value,{onClick:f,onKeyup:p}),z("div",t,function(){const t=[];!0===s.value&&t.push(b("div",{class:"q-focus-helper"})),!0===i.value&&t.push(b(E,{class:"q-chip__icon q-chip__icon--left",name:u.value}));const o=void 0!==e.label?[b("div",{class:"ellipsis"},[e.label])]:void 0;return t.push(b("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},L(l.default,o))),e.iconRight&&t.push(b(E,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),!0===e.removable&&t.push(b(E,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:r.value,...d.value,onClick:m,onKeyup:m})),t}(),"ripple",!1!==e.ripple&&!0!==e.disable,(()=>[[B,e.ripple]]))}}});let ze,Ee,Le,Be,Ie,Te,Oe=0,He=!1;function Ae(e){(function(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const l=$(e),t=e.shiftKey&&!e.deltaX,o=!t&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),a=t||o?e.deltaY:e.deltaX;for(let n=0;n<l.length;n++){const e=l[n];if(F(e,o))return o?a<0&&0===e.scrollTop||a>0&&e.scrollTop+e.clientHeight===e.scrollHeight:a<0&&0===e.scrollLeft||a>0&&e.scrollLeft+e.clientWidth===e.scrollWidth}return!0})(e)&&I(e)}function Me(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function $e(e){!0!==He&&(He=!0,requestAnimationFrame((()=>{He=!1;const{height:l}=e.target,{clientHeight:t,scrollTop:o}=document.scrollingElement;void 0!==Le&&l===window.innerHeight||(Le=t-l,document.scrollingElement.scrollTop=o),o>Le&&(document.scrollingElement.scrollTop-=Math.ceil((o-Le)/8))})))}function Fe(e){const l=document.body,t=void 0!==window.visualViewport;if("add"===e){const{overflowY:e,overflowX:o}=window.getComputedStyle(l);ze=H(window),Ee=A(window),Be=l.style.left,Ie=l.style.top,l.style.left=`-${ze}px`,l.style.top=`-${Ee}px`,"hidden"!==o&&("scroll"===o||l.scrollWidth>window.innerWidth)&&l.classList.add("q-body--force-scrollbar-x"),"hidden"!==e&&("scroll"===e||l.scrollHeight>window.innerHeight)&&l.classList.add("q-body--force-scrollbar-y"),l.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,!0===O.is.ios&&(!0===t?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",$e,M.passiveCapture),window.visualViewport.addEventListener("scroll",$e,M.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",Me,M.passiveCapture))}!0===O.is.desktop&&!0===O.is.mac&&window[`${e}EventListener`]("wheel",Ae,M.notPassive),"remove"===e&&(!0===O.is.ios&&(!0===t?(window.visualViewport.removeEventListener("resize",$e,M.passiveCapture),window.visualViewport.removeEventListener("scroll",$e,M.passiveCapture)):window.removeEventListener("scroll",Me,M.passiveCapture)),l.classList.remove("q-body--prevent-scroll"),l.classList.remove("q-body--force-scrollbar-x"),l.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,l.style.left=Be,l.style.top=Ie,window.scrollTo(ze,Ee),Le=void 0)}function Re(){let e;return{preventBodyScroll(l){l===e||void 0===e&&!0!==l||(e=l,function(e){let l="add";if(!0===e){if(Oe++,void 0!==Te)return clearTimeout(Te),void(Te=void 0);if(Oe>1)return}else{if(0===Oe)return;if(Oe--,Oe>0)return;if(l="remove",!0===O.is.ios&&!0===O.is.nativeMobile)return clearTimeout(Te),void(Te=setTimeout((()=>{Fe(l),Te=void 0}),100))}Fe(l)}(l))}}}let De=0;const Pe={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},je={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},Ne=k({name:"QDialog",inheritAttrs:!1,props:{...R,...D,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>"standard"===e||["top","bottom","left","right"].includes(e)}},emits:[...P,"shake","click","escape-key"],setup(e,{slots:l,emit:t,attrs:o}){const a=V(),n=d(null),i=d(!1),u=d(!1),r=d(!1);let s,c,f,m=null;const g=v((()=>!0!==e.persistent&&!0!==e.noRouteDismiss&&!0!==e.seamless)),{preventBodyScroll:h}=Re(),{registerTimeout:w,removeTimeout:k}=j(),{registerTick:x,removeTick:q}=N(),{showPortal:C,hidePortal:_,portalIsAccessible:z,renderPortal:E}=K(a,n,(function(){return b("div",{...o,class:D.value},[b(Q,{name:"q-transition--fade",appear:!0},(()=>!0===F.value?b("div",{class:"q-dialog__backdrop fixed-full",style:$.value,"aria-hidden":"true",onMousedown:ie}):null)),b(Q,{name:M.value,appear:!0},(()=>!0===i.value?b("div",{ref:n,class:O.value,style:$.value,tabindex:-1,...R.value},G(l.default)):null))])}),!0),{hide:L}=W({showing:i,hideOnRouteChange:g,handleShow:function(l){k(),q(),B(),m=!1===e.noRefocus&&null!==document.activeElement?document.activeElement:null,ae(e.maximized),C(),r.value=!0,!0!==e.noFocus&&(null!==document.activeElement&&document.activeElement.blur(),x(P));w((()=>{if(!0===a.proxy.$q.platform.is.ios){if(!0!==e.seamless&&document.activeElement){const{top:e,bottom:l}=document.activeElement.getBoundingClientRect(),{innerHeight:t}=window,o=void 0!==window.visualViewport?window.visualViewport.height:t;e>0&&l>o/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-o,l>=t?1/0:Math.ceil(document.scrollingElement.scrollTop+l-o/2))),document.activeElement.scrollIntoView()}f=!0,n.value.click(),f=!1}C(!0),r.value=!1,t("show",l)}),e.transitionDuration)},handleHide:function(l){k(),q(),I(),oe(!0),r.value=!0,_(),null!==m&&(m.focus(),m=null);w((()=>{_(!0),r.value=!1,t("hide",l)}),e.transitionDuration)},processOnMount:!0}),{addToHistory:B,removeFromHistory:I}=function(e,l,t){let o;function a(){void 0!==o&&(T.remove(o),o=void 0)}return S((()=>{!0===e.value&&a()})),{removeFromHistory:a,addToHistory(){o={condition:()=>!0===t.value,handler:l},T.add(o)}}}(i,L,g),O=v((()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${!0===e.maximized?"maximized":"minimized"} q-dialog__inner--${e.position} ${Pe[e.position]}`+(!0===r.value?" q-dialog__inner--animating":"")+(!0===e.fullWidth?" q-dialog__inner--fullwidth":"")+(!0===e.fullHeight?" q-dialog__inner--fullheight":"")+(!0===e.square?" q-dialog__inner--square":""))),H=v((()=>"q-transition--"+(void 0===e.transitionShow?je[e.position][0]:e.transitionShow))),A=v((()=>"q-transition--"+(void 0===e.transitionHide?je[e.position][1]:e.transitionHide))),M=v((()=>!0===u.value?A.value:H.value)),$=v((()=>`--q-transition-duration: ${e.transitionDuration}ms`)),F=v((()=>!0===i.value&&!0!==e.seamless)),R=v((()=>!0===e.autoClose?{onClick:ne}:{})),D=v((()=>["q-dialog fullscreen no-pointer-events q-dialog--"+(!0===F.value?"modal":"seamless"),o.class]));function P(e){U((()=>{let l=n.value;null!==l&&!0!==l.contains(document.activeElement)&&(l=l.querySelector(e||"[autofocus], [data-autofocus]")||l,l.focus({preventScroll:!0}))}))}function le(){P(),t("shake");const e=n.value;null!==e&&(e.classList.remove("q-animate--scale"),e.classList.add("q-animate--scale"),clearTimeout(s),s=setTimeout((()=>{null!==n.value&&(e.classList.remove("q-animate--scale"),P())}),170))}function te(){!0!==e.seamless&&(!0===e.persistent||!0===e.noEscDismiss?!0!==e.maximized&&!0!==e.noShake&&le():(t("escape-key"),L()))}function oe(l){clearTimeout(s),!0!==l&&!0!==i.value||(ae(!1),!0!==e.seamless&&(h(!1),X(ue),Y(te))),!0!==l&&(m=null)}function ae(e){!0===e?!0!==c&&(De<1&&document.body.classList.add("q-body--dialog"),De++,c=!0):!0===c&&(De<2&&document.body.classList.remove("q-body--dialog"),De--,c=!1)}function ne(e){!0!==f&&(L(e),t("click",e))}function ie(l){!0!==e.persistent&&!0!==e.noBackdropDismiss?L(l):!0!==e.noShake&&le()}function ue(l){!0!==e.allowFocusOutside&&!0===z.value&&!0!==ee(n.value,l.target)&&P('[tabindex]:not([tabindex="-1"])')}return p(i,(e=>{y((()=>{u.value=e}))})),p((()=>e.maximized),(e=>{!0===i.value&&ae(e)})),p(F,(e=>{h(e),!0===e?(J(ue),Z(te)):(X(ue),Y(te))})),Object.assign(a.proxy,{focus:P,shake:le,__updateRefocusTarget(e){m=e||null}}),S(oe),E}}),Ke=e=>["add","add-unique","toggle"].includes(e),We=Object.keys(e),Ue=k({name:"QSelect",inheritAttrs:!1,props:{...ke,...a,...e,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Ke},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...l,"add","remove","input-value","new-value","keyup","keypress","keydown","filter-abort"],setup(e,{slots:l,emit:a}){const{proxy:s}=V(),{$q:c}=s,f=d(!1),m=d(!1),g=d(-1),h=d(""),w=d(!1),k=d(!1);let x,q,C,_,z,L,B,T,O;const H=d(null),A=d(null),M=d(null),$=d(null),F=d(null),R=n(e),D=r(ll),P=v((()=>Array.isArray(e.options)?e.options.length:0)),j=v((()=>void 0===e.virtualScrollItemSize?!0===e.optionsDense?24:48:e.virtualScrollItemSize)),{virtualScrollSliceRange:N,virtualScrollSliceSizeComputed:K,localResetVirtualScroll:W,padVirtualScroll:U,onVirtualScrollEvt:X,scrollTo:Y,setVirtualScrollSize:Q}=xe({virtualScrollLength:P,getVirtualScrollTarget:function(){return Ze()},getVirtualScrollEl:Ze,virtualScrollItemSizeComputed:j}),G=o(),J=v((()=>{const l=!0===e.mapOptions&&!0!==e.multiple,t=void 0===e.modelValue||null===e.modelValue&&!0!==l?[]:!0===e.multiple&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue];if(!0===e.mapOptions&&!0===Array.isArray(e.options)){const o=!0===e.mapOptions&&void 0!==q?q:[],a=t.map((l=>function(l,t){const o=e=>ae(Be.value(e),l);return e.options.find(o)||t.find(o)||l}(l,o)));return null===e.modelValue&&!0===l?a.filter((e=>null!==e)):a}return t})),Z=v((()=>{const l={};return We.forEach((t=>{const o=e[t];void 0!==o&&(l[t]=o)})),l})),ee=v((()=>null===e.optionsDark?G.isDark.value:e.optionsDark)),pe=v((()=>u(J.value))),fe=v((()=>{let l="q-field__input q-placeholder col";return!0===e.hideSelected||0===J.value.length?[l,e.inputClass]:(l+=" q-field__input--padding",void 0===e.inputClass?l:[l,e.inputClass])})),me=v((()=>(!0===e.virtualScrollHorizontal?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:""))),ge=v((()=>0===P.value)),he=v((()=>J.value.map((e=>Ie.value(e))).join(", "))),Se=v((()=>!0===e.optionsHtml?()=>!0:e=>null!=e&&!0===e.html)),ye=v((()=>!0===e.displayValueHtml||void 0===e.displayValue&&(!0===e.optionsHtml||J.value.some(Se.value)))),be=v((()=>!0===G.focused.value?e.tabindex:-1)),we=v((()=>{const l={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-autocomplete":!0===e.useInput?"list":"none","aria-expanded":!0===f.value?"true":"false","aria-owns":`${G.targetUid.value}_lb`,"aria-controls":`${G.targetUid.value}_lb`};return g.value>=0&&(l["aria-activedescendant"]=`${G.targetUid.value}_${g.value}`),l})),Ve=v((()=>{const l={id:`${G.targetUid.value}_lb`,role:"listbox","aria-multiselectable":!0===e.multiple?"true":"false"};return g.value>=0&&(l["aria-activedescendant"]=`${G.targetUid.value}_${g.value}`),l})),ke=v((()=>J.value.map(((e,l)=>({index:l,opt:e,html:Se.value(e),selected:!0,removeAtIndex:$e,toggleOption:Re,tabindex:be.value}))))),Ce=v((()=>{if(0===P.value)return[];const{from:l,to:t}=N.value;return e.options.slice(l,t).map(((t,o)=>{const a=!0===Te.value(t),n=l+o,i={clickable:!0,active:!1,activeClass:Le.value,manualFocus:!0,focused:!1,disable:a,tabindex:-1,dense:e.optionsDense,dark:ee.value,role:"option",id:`${G.targetUid.value}_${n}`,onClick:()=>{Re(t)}};return!0!==a&&(!0===Ue(t)&&(i.active=!0),g.value===n&&(i.focused=!0),i["aria-selected"]=!0===i.active?"true":"false",!0===c.platform.is.desktop&&(i.onMousemove=()=>{!0===f.value&&De(n)})),{index:n,opt:t,html:Se.value(t),label:Ie.value(t),selected:i.active,focused:i.focused,toggleOption:Re,setOptionIndex:De,itemProps:i}}))})),ze=v((()=>void 0!==e.dropdownIcon?e.dropdownIcon:c.iconSet.arrow.dropdown)),Ee=v((()=>!1===e.optionsCover&&!0!==e.outlined&&!0!==e.standout&&!0!==e.borderless&&!0!==e.rounded)),Le=v((()=>void 0!==e.optionsSelectedClass?e.optionsSelectedClass:void 0!==e.color?`text-${e.color}`:"")),Be=v((()=>je(e.optionValue,"value"))),Ie=v((()=>je(e.optionLabel,"label"))),Te=v((()=>je(e.optionDisable,"disable"))),Oe=v((()=>J.value.map((e=>Be.value(e))))),He=v((()=>{const e={onInput:ll,onChange:D,onKeydown:Je,onKeyup:Qe,onKeypress:Ge,onFocus:Xe,onClick(e){!0===C&&ie(e)}};return e.onCompositionstart=e.onCompositionupdate=e.onCompositionend=D,e}));function Ae(l){return!0===e.emitValue?Be.value(l):l}function Me(l){if(l>-1&&l<J.value.length)if(!0===e.multiple){const t=e.modelValue.slice();a("remove",{index:l,value:t.splice(l,1)[0]}),a("update:modelValue",t)}else a("update:modelValue",null)}function $e(e){Me(e),G.focus()}function Fe(l,t){const o=Ae(l);if(!0!==e.multiple)return!0===e.fillInput&&ol(Ie.value(l),!0,!0),void a("update:modelValue",o);if(0===J.value.length)return a("add",{index:0,value:o}),void a("update:modelValue",!0===e.multiple?[o]:o);if(!0===t&&!0===Ue(l))return;if(void 0!==e.maxValues&&e.modelValue.length>=e.maxValues)return;const n=e.modelValue.slice();a("add",{index:n.length,value:o}),n.push(o),a("update:modelValue",n)}function Re(l,t){if(!0!==G.editable.value||void 0===l||!0===Te.value(l))return;const o=Be.value(l);if(!0!==e.multiple)return!0!==t&&(ol(!0===e.fillInput?Ie.value(l):"",!0,!0),fl()),null!==A.value&&A.value.focus(),void(0!==J.value.length&&!0===ae(Be.value(J.value[0]),o)||a("update:modelValue",!0===e.emitValue?o:l));if((!0!==C||!0===w.value)&&G.focus(),Xe(),0===J.value.length){const t=!0===e.emitValue?o:l;return a("add",{index:0,value:t}),void a("update:modelValue",!0===e.multiple?[t]:t)}const n=e.modelValue.slice(),i=Oe.value.findIndex((e=>ae(e,o)));if(i>-1)a("remove",{index:i,value:n.splice(i,1)[0]});else{if(void 0!==e.maxValues&&n.length>=e.maxValues)return;const t=!0===e.emitValue?o:l;a("add",{index:n.length,value:t}),n.push(t)}a("update:modelValue",n)}function De(e){if(!0!==c.platform.is.desktop)return;const l=e>-1&&e<P.value?e:-1;g.value!==l&&(g.value=l)}function Pe(l=1,t){if(!0===f.value){let o=g.value;do{o=i(o+l,-1,P.value-1)}while(-1!==o&&o!==g.value&&!0===Te.value(e.options[o]));g.value!==o&&(De(o),Y(o),!0!==t&&!0===e.useInput&&!0===e.fillInput&&tl(o>=0?Ie.value(e.options[o]):L))}}function je(e,l){const t=void 0!==e?e:l;return"function"==typeof t?t:e=>null!==e&&"object"==typeof e&&t in e?e[t]:e}function Ue(e){const l=Be.value(e);return void 0!==Oe.value.find((e=>ae(e,l)))}function Xe(l){!0===e.useInput&&null!==A.value&&(void 0===l||A.value===l.target&&l.target.value===he.value)&&A.value.select()}function Ye(e){!0===ne(e,27)&&!0===f.value&&(ie(e),fl(),ml()),a("keyup",e)}function Qe(l){const{value:t}=l.target;if(void 0===l.keyCode)if(l.target.value="",clearTimeout(x),ml(),"string"==typeof t&&t.length>0){const l=t.toLocaleLowerCase(),o=t=>{const o=e.options.find((e=>t.value(e).toLocaleLowerCase()===l));return void 0!==o&&(-1===J.value.indexOf(o)?Re(o):fl(),!0)},a=e=>{!0!==o(Be)&&!0!==o(Ie)&&!0!==e&&al(t,!0,(()=>a(!0)))};a()}else G.clearValue(l);else Ye(l)}function Ge(e){a("keypress",e)}function Je(l){if(a("keydown",l),!0===ue(l))return;const t=h.value.length>0&&(void 0!==e.newValueMode||void 0!==e.onNewValue),o=!0!==l.shiftKey&&!0!==e.multiple&&(g.value>-1||!0===t);if(27===l.keyCode)return void oe(l);if(9===l.keyCode&&!1===o)return void vl();if(void 0===l.target||l.target.id!==G.targetUid.value)return;if(40===l.keyCode&&!0!==G.innerLoading.value&&!1===f.value)return I(l),void pl();if(8===l.keyCode&&!0!==e.hideSelected&&0===h.value.length)return void(!0===e.multiple&&!0===Array.isArray(e.modelValue)?Me(e.modelValue.length-1):!0!==e.multiple&&null!==e.modelValue&&a("update:modelValue",null));35!==l.keyCode&&36!==l.keyCode||"string"==typeof h.value&&0!==h.value.length||(I(l),g.value=-1,Pe(36===l.keyCode?1:-1,e.multiple)),33!==l.keyCode&&34!==l.keyCode||void 0===K.value||(I(l),g.value=Math.max(-1,Math.min(P.value,g.value+(33===l.keyCode?-1:1)*K.value.view)),Pe(33===l.keyCode?1:-1,e.multiple)),38!==l.keyCode&&40!==l.keyCode||(I(l),Pe(38===l.keyCode?-1:1,e.multiple));const n=P.value;if((void 0===T||O<Date.now())&&(T=""),n>0&&!0!==e.useInput&&void 0!==l.key&&1===l.key.length&&l.altKey===l.ctrlKey&&(32!==l.keyCode||T.length>0)){!0!==f.value&&pl(l);const t=l.key.toLocaleLowerCase(),o=1===T.length&&T[0]===t;O=Date.now()+1500,!1===o&&(I(l),T+=t);const a=new RegExp("^"+T.split("").map((e=>".*+?^${}()|[]\\".indexOf(e)>-1?"\\"+e:e)).join(".*"),"i");let u=g.value;if(!0===o||u<0||!0!==a.test(Ie.value(e.options[u])))do{u=i(u+1,-1,n-1)}while(u!==g.value&&(!0===Te.value(e.options[u])||!0!==a.test(Ie.value(e.options[u]))));g.value!==u&&y((()=>{De(u),Y(u),u>=0&&!0===e.useInput&&!0===e.fillInput&&tl(Ie.value(e.options[u]))}))}else if(13===l.keyCode||32===l.keyCode&&!0!==e.useInput&&""===T||9===l.keyCode&&!1!==o)if(9!==l.keyCode&&I(l),g.value>-1&&g.value<n)Re(e.options[g.value]);else{if(!0===t){const l=(l,t)=>{if(t){if(!0!==Ke(t))return}else t=e.newValueMode;if(null==l)return;ol("",!0!==e.multiple,!0);("toggle"===t?Re:Fe)(l,"add-unique"===t),!0!==e.multiple&&(null!==A.value&&A.value.focus(),fl())};if(void 0!==e.onNewValue?a("new-value",h.value,l):l(h.value),!0!==e.multiple)return}!0===f.value?vl():!0!==G.innerLoading.value&&pl()}}function Ze(){return!0===C?F.value:null!==M.value&&null!==M.value.__qPortalInnerRef.value?M.value.__qPortalInnerRef.value:void 0}function el(){if(!0===ge.value)return void 0!==l["no-option"]?l["no-option"]({inputValue:h.value}):void 0;const e=void 0!==l.option?l.option:e=>b(de,{key:e.index,...e.itemProps},(()=>b(se,(()=>b(ce,(()=>b("span",{[!0===e.html?"innerHTML":"textContent"]:e.label})))))));let t=U("div",Ce.value.map(e));return void 0!==l["before-options"]&&(t=l["before-options"]().concat(t)),ve(l["after-options"],t)}function ll(l){clearTimeout(x),l&&l.target&&!0===l.target.qComposing||(tl(l.target.value||""),_=!0,L=h.value,!0===G.focused.value||!0===C&&!0!==w.value||G.focus(),void 0!==e.onFilter&&(x=setTimeout((()=>{al(h.value)}),e.inputDebounce)))}function tl(e){h.value!==e&&(h.value=e,a("input-value",e))}function ol(l,t,o){_=!0!==o,!0===e.useInput&&(tl(l),!0!==t&&!0===o||(L=l),!0!==t&&al(l))}function al(l,t,o){if(void 0===e.onFilter||!0!==t&&!0!==G.focused.value)return;!0===G.innerLoading.value?a("filter-abort"):(G.innerLoading.value=!0,k.value=!0),""!==l&&!0!==e.multiple&&J.value.length>0&&!0!==_&&l===Ie.value(J.value[0])&&(l="");const n=setTimeout((()=>{!0===f.value&&(f.value=!1)}),10);clearTimeout(z),z=n,a("filter",l,((e,l)=>{!0!==t&&!0!==G.focused.value||z!==n||(clearTimeout(z),"function"==typeof e&&e(),k.value=!1,y((()=>{G.innerLoading.value=!1,!0===G.editable.value&&(!0===t?!0===f.value&&fl():!0===f.value?gl(!0):f.value=!0),"function"==typeof l&&y((()=>{l(s)})),"function"==typeof o&&y((()=>{o(s)}))})))}),(()=>{!0===G.focused.value&&z===n&&(clearTimeout(z),G.innerLoading.value=!1,k.value=!1),!0===f.value&&(f.value=!1)}))}function nl(e){yl(e),vl()}function il(){Q()}function ul(e){ie(e),null!==A.value&&A.value.focus(),w.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function rl(e){ie(e),y((()=>{w.value=!1}))}function sl(e){yl(e),null!==$.value&&$.value.__updateRefocusTarget(G.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),G.focused.value=!1}function cl(e){fl(),!1===G.focused.value&&a("blur",e),ml()}function dl(){const e=document.activeElement;null!==e&&e.id===G.targetUid.value||null===A.value||A.value===e||A.value.focus(),Q()}function vl(){!0!==m.value&&(g.value=-1,!0===f.value&&(f.value=!1),!1===G.focused.value&&(clearTimeout(z),z=void 0,!0===G.innerLoading.value&&(a("filter-abort"),G.innerLoading.value=!1,k.value=!1)))}function pl(t){!0===G.editable.value&&(!0===C?(G.onControlFocusin(t),m.value=!0,y((()=>{G.focus()}))):G.focus(),void 0!==e.onFilter?al(h.value):!0===ge.value&&void 0===l["no-option"]||(f.value=!0))}function fl(){m.value=!1,vl()}function ml(){!0===e.useInput&&ol(!0!==e.multiple&&!0===e.fillInput&&J.value.length>0&&Ie.value(J.value[0])||"",!0,!0)}function gl(l){let t=-1;if(!0===l){if(J.value.length>0){const l=Be.value(J.value[0]);t=e.options.findIndex((e=>ae(Be.value(e),l)))}W(t)}De(t)}function hl(){!1===m.value&&null!==M.value&&M.value.updatePosition()}function Sl(e){void 0!==e&&ie(e),a("popup-show",e),G.hasPopupOpen=!0,G.onControlFocusin(e)}function yl(e){void 0!==e&&ie(e),a("popup-hide",e),G.hasPopupOpen=!1,G.onControlFocusout(e)}function bl(){C=(!0===c.platform.is.mobile||"dialog"===e.behavior)&&("menu"!==e.behavior&&(!0!==e.useInput||(void 0!==l["no-option"]||void 0!==e.onFilter||!1===ge.value))),B=!0===c.platform.is.ios&&!0===C&&!0===e.useInput?"fade":e.transitionShow}return p(J,(l=>{q=l,!0===e.useInput&&!0===e.fillInput&&!0!==e.multiple&&!0!==G.innerLoading.value&&(!0!==m.value&&!0!==f.value||!0!==pe.value)&&(!0!==_&&ml(),!0!==m.value&&!0!==f.value||al(""))}),{immediate:!0}),p((()=>e.fillInput),ml),p(f,gl),p(P,(function(e,l){!0===f.value&&!1===G.innerLoading.value&&(W(-1,!0),y((()=>{!0===f.value&&!1===G.innerLoading.value&&(e>l?W():gl(!0))})))})),le(bl),te(hl),bl(),S((()=>{clearTimeout(x)})),Object.assign(s,{showPopup:pl,hidePopup:fl,removeAtIndex:Me,add:Fe,toggleOption:Re,getOptionIndex:()=>g.value,setOptionIndex:De,moveOptionSelection:Pe,filter:al,updateMenuPosition:hl,updateInputValue:ol,isOptionSelected:Ue,getEmittingOptionValue:Ae,isOptionDisabled:(...e)=>!0===Te.value.apply(null,e),getOptionValue:(...e)=>Be.value.apply(null,e),getOptionLabel:(...e)=>Ie.value.apply(null,e)}),Object.assign(G,{innerValue:J,fieldClass:v((()=>`q-select q-field--auto-height q-select--with${!0!==e.useInput?"out":""}-input q-select--with${!0!==e.useChips?"out":""}-chips q-select--${!0===e.multiple?"multiple":"single"}`)),inputRef:H,targetRef:A,hasValue:pe,showPopup:pl,floatingLabel:v((()=>!0!==e.hideSelected&&!0===pe.value||"number"==typeof h.value||h.value.length>0||u(e.displayValue))),getControlChild:()=>{if(!1!==G.editable.value&&(!0===m.value||!0!==ge.value||void 0!==l["no-option"]))return!0===C?function(){const t=[b(qe,{class:`col-auto ${G.fieldClass.value}`,...Z.value,for:G.targetUid.value,dark:ee.value,square:!0,loading:k.value,itemAligned:!1,filled:!0,stackLabel:h.value.length>0,...G.splitAttrs.listeners.value,onFocus:ul,onBlur:rl},{...l,rawControl:()=>G.getControl(!0),before:void 0,after:void 0})];return!0===f.value&&t.push(b("div",{ref:F,class:me.value+" scroll",style:e.popupContentStyle,...Ve.value,onClick:oe,onScrollPassive:X},el())),b(Ne,{ref:$,modelValue:m.value,position:!0===e.useInput?"top":void 0,transitionShow:B,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:Sl,onBeforeHide:sl,onHide:cl,onShow:dl},(()=>b("div",{class:"q-select__dialog"+(!0===ee.value?" q-select__dialog--dark q-dark":"")+(!0===w.value?" q-select__dialog--focused":"")},t)))}():b(re,{ref:M,class:me.value,style:e.popupContentStyle,modelValue:f.value,fit:!0!==e.menuShrink,cover:!0===e.optionsCover&&!0!==ge.value&&!0!==e.useInput,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:ee.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:Ee.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Ve.value,onScrollPassive:X,onBeforeShow:Sl,onBeforeHide:nl,onShow:il},el);!0===G.hasPopupOpen&&(G.hasPopupOpen=!1)},controlEvents:{onFocusin(e){G.onControlFocusin(e)},onFocusout(e){G.onControlFocusout(e,(()=>{ml(),vl()}))},onClick(e){if(oe(e),!0!==C&&!0===f.value)return vl(),void(null!==A.value&&A.value.focus());pl(e)}},getControl:t=>{const o=!0===e.hideSelected?[]:void 0!==l["selected-item"]?ke.value.map((e=>l["selected-item"](e))).slice():void 0!==l.selected?[].concat(l.selected()):!0===e.useChips?ke.value.map(((l,t)=>b(_e,{key:"option-"+t,removable:!0===G.editable.value&&!0!==Te.value(l.opt),dense:!0,textColor:e.color,tabindex:be.value,onRemove(){l.removeAtIndex(t)}},(()=>b("span",{class:"ellipsis",[!0===l.html?"innerHTML":"textContent"]:Ie.value(l.opt)}))))):[b("span",{[!0===ye.value?"innerHTML":"textContent"]:void 0!==e.displayValue?e.displayValue:he.value})],a=!0===t||!0!==m.value||!0!==C;if(!0===e.useInput)o.push(function(l,t){const o=!0===t?{...we.value,...G.splitAttrs.attributes.value}:void 0,a={ref:!0===t?A:void 0,key:"i_t",class:fe.value,style:e.inputStyle,value:void 0!==h.value?h.value:"",type:"search",...o,id:!0===t?G.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":!0!==l&&!0===e.autofocus||void 0,disabled:!0===e.disable,readonly:!0===e.readonly,...He.value};return!0!==l&&!0===C&&(!0===Array.isArray(a.class)?a.class=[...a.class,"no-pointer-events"]:a.class+=" no-pointer-events"),b("input",a)}(t,a));else if(!0===G.editable.value){const l=!0===a?we.value:void 0;o.push(b("input",{ref:!0===a?A:void 0,key:"d_t",class:"q-select__focus-target",id:!0===a?G.targetUid.value:void 0,readonly:!0,"data-autofocus":!0!==t&&!0===e.autofocus||void 0,...l,onKeydown:Je,onKeyup:Ye,onKeypress:Ge})),!0===a&&"string"==typeof e.autocomplete&&e.autocomplete.length>0&&o.push(b("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,onKeyup:Qe}))}if(void 0!==R.value&&!0!==e.disable&&Oe.value.length>0){const l=Oe.value.map((e=>b("option",{value:e,selected:!0})));o.push(b("select",{class:"hidden",name:R.value,multiple:e.multiple},l))}const n=!0===e.useInput||!0!==a?void 0:G.splitAttrs.attributes.value;return b("div",{class:"q-field__native row items-center",...n},o)},getInnerAppend:()=>!0!==e.loading&&!0!==k.value&&!0!==e.hideDropdownIcon?[b(E,{class:"q-select__dropdown-icon"+(!0===f.value?" rotate-180":""),name:ze.value})]:null}),t(G)}});const Xe={xs:30,sm:35,md:40,lg:50,xl:60},Ye={...x,...q,...a,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>"tf"===e||"ft"===e},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},Qe=["update:modelValue"];function Ge(e,l){const{props:t,slots:o,emit:a,proxy:n}=V(),{$q:i}=n,u=C(t,i),r=d(null),{refocusTargetEl:c,refocusTarget:p}=function(e,l){const t=d(null);return{refocusTargetEl:v((()=>!0===e.disable?null:b("span",{ref:t,class:"no-outline",tabindex:-1}))),refocusTarget:function(e){const o=l.value;void 0!==e&&0===e.type.indexOf("key")?null!==o&&document.activeElement!==o&&!0===o.contains(document.activeElement)&&o.focus():null!==t.value&&(void 0===e||null!==o&&!0===o.contains(e.target))&&t.value.focus()}}}(t,r),f=_(t,Xe),m=v((()=>void 0!==t.val&&Array.isArray(t.modelValue))),g=v((()=>{const e=pe(t.val);return!0===m.value?t.modelValue.findIndex((l=>pe(l)===e)):-1})),h=v((()=>!0===m.value?g.value>-1:pe(t.modelValue)===pe(t.trueValue))),S=v((()=>!0===m.value?-1===g.value:pe(t.modelValue)===pe(t.falseValue))),y=v((()=>!1===h.value&&!1===S.value)),w=v((()=>!0===t.disable?-1:t.tabindex||0)),k=v((()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(!0===t.disable?" disabled":"")+(!0===u.value?` q-${e}--dark`:"")+(!0===t.dense?` q-${e}--dense`:"")+(!0===t.leftLabel?" reverse":""))),x=v((()=>{const l=!0===h.value?"truthy":!0===S.value?"falsy":"indet",o=void 0===t.color||!0!==t.keepColor&&("toggle"===e?!0!==h.value:!0===S.value)?"":` text-${t.color}`;return`q-${e}__inner relative-position non-selectable q-${e}__inner--${l}${o}`})),q=v((()=>{const e={type:"checkbox"};return void 0!==t.name&&Object.assign(e,{"^checked":!0===h.value?"checked":void 0,name:t.name,value:!0===m.value?t.val:t.trueValue}),e})),z=s(q),E=v((()=>{const e={tabindex:w.value,role:"checkbox","aria-label":t.label,"aria-checked":!0===y.value?"mixed":!0===h.value?"true":"false"};return!0===t.disable&&(e["aria-disabled"]="true"),e}));function L(e){void 0!==e&&(I(e),p(e)),!0!==t.disable&&a("update:modelValue",function(){if(!0===m.value){if(!0===h.value){const e=t.modelValue.slice();return e.splice(g.value,1),e}return t.modelValue.concat([t.val])}if(!0===h.value){if("ft"!==t.toggleOrder||!1===t.toggleIndeterminate)return t.falseValue}else{if(!0!==S.value)return"ft"!==t.toggleOrder?t.trueValue:t.falseValue;if("ft"===t.toggleOrder||!1===t.toggleIndeterminate)return t.trueValue}return t.indeterminateValue}(),e)}function B(e){13!==e.keyCode&&32!==e.keyCode||I(e)}function T(e){13!==e.keyCode&&32!==e.keyCode||L(e)}const O=l(h,y);return Object.assign(n,{toggle:L}),()=>{const l=O();!0!==t.disable&&z(l,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const a=[b("div",{class:x.value,style:f.value},l)];null!==c.value&&a.push(c.value);const n=void 0!==t.label?ve(o.default,[t.label]):G(o.default);return void 0!==n&&a.push(b("div",{class:`q-${e}__label q-anchor--skip`},n)),b("div",{ref:r,class:k.value,...E.value,onClick:L,onKeydown:B,onKeyup:T},a)}}export{Ue as Q,xe as a,Ye as b,Qe as c,Ge as d,Ve as e,Ne as f,ke as u};
